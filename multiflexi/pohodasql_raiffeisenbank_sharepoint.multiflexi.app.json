{
  "$schema": "https://raw.githubusercontent.com/VitexSoftware/php-vitexsoftware-multiflexi-core/refs/heads/main/multiflexi.app.schema.json",
  "schemaVersion": "3.1.0",
  "uuid": "e9893573-24aa-4518-bf05-66fae9ad153c",
  "name": {
    "en": "Raiffeisenbank statements for PohodaSQL+Sharepoint",
    "cs": "V√Ωpisy Raiffeisenbank pro PohodaSQL a Sharepoint"
  },
  "description": {
    "en": "Import Raiffeisenbank statements into PohodaSQL and store in Sharepoint",
    "cs": "Importujte v√Ωpisy Raiffeisenbank do PohodaSQL a ulo≈æte je do Sharepointu"
  },
  "tags": ["Raiffeisen", "Bank", "Statements", "Pohoda"],
  "homepage": "https://github.com/Spoje-NET/pohoda-raiffeisenbank",
  "executable": "pohodasql-raiffeisenbank-statements-sharepoint",
  "environment": {
    "ACCOUNT_NUMBER": {
      "type": "text",
      "description": {
        "en": "Bank Account Number",
        "cs": "ƒå√≠slo bankovn√≠ho √∫ƒçtu"
      },
      "defval": "",
      "required": true,
      "category": "Other"
    },
    "CERT_PASS": {
      "type": "password",
      "description": {
        "en": "Certificate password",
        "cs": "Heslo certifik√°tu"
      },
      "defval": "",
      "required": true,
      "category": "Other"
    },
    "CERT_FILE": {
      "type": "string",
      "description": {
        "en": "Path to RB Certificate file",
        "cs": "Cesta k souboru certifik√°tu RB"
      },
      "defval": "",
      "required": true,
      "category": "Other"
    },
    "IMPORT_SCOPE": {
      "type": "text",
      "description": {
        "en": "Time scope of transactions downloaded",
        "cs": "ƒåasov√Ω rozsah stahovan√Ωch transakc√≠"
      },
      "defval": "auto",
      "required": true,
      "category": "Other"
    },
    "ACCOUNT_CURRENCY": {
      "type": "text",
      "description": {
        "en": "for multicurrency accounts please specify one",
        "cs": "U v√≠cemƒõnov√Ωch √∫ƒçt≈Ø pros√≠m zadejte mƒõnu"
      },
      "defval": "",
      "hint": {
        "en": "CZK",
        "cs": "CZK"
      },
      "required": false,
      "category": "Other"
    },
    "XIBMCLIENTID": {
      "type": "text",
      "description": {
        "en": "ClientID",
        "cs": "ClientID"
      },
      "defval": "",
      "required": true,
      "category": "Other"
    },
    "STATEMENT_LINE": {
      "type": "set",
      "description": {
        "en": "Bank Statement line",
        "cs": "≈ò√°dek bankovn√≠ho v√Ωpisu"
      },
      "defval": "ADDITIONAL",
      "hint": {
        "en": "MAIN",
        "cs": "MAIN"
      },
      "options": {
        "MAIN": "Main statement line",
        "ADDITIONAL": "Additional statement line"
      },
      "category": "Other"
    },
    "POHODA_ICO": {
      "type": "text",
      "description": {
        "en": "Pohoda ICO",
        "cs": "Pohoda IƒåO"
      },
      "defval": "12345678",
      "required": true,
      "category": "API"
    },
    "POHODA_URL": {
      "type": "text",
      "description": {
        "en": "Pohoda URL",
        "cs": "URL Pohody"
      },
      "defval": "http://127.0.0.1:10010",
      "required": true,
      "category": "API"
    },
    "POHODA_USERNAME": {
      "type": "text",
      "description": {
        "en": "Pohoda Username",
        "cs": "U≈æivatelsk√© jm√©no Pohody"
      },
      "defval": "Admin",
      "required": true,
      "category": "API"
    },
    "POHODA_PASSWORD": {
      "type": "password",
      "description": {
        "en": "Pohoda Password",
        "cs": "Heslo Pohody"
      },
      "defval": "xxxxxxxx",
      "required": true,
      "category": "API"
    },
    "POHODA_TIMEOUT": {
      "type": "integer",
      "description": {
        "en": "Pohoda Timeout",
        "cs": "ƒåasov√Ω limit Pohody"
      },
      "defval": 60,
      "required": true,
      "category": "API"
    },
    "POHODA_COMPRESS": {
      "type": "bool",
      "description": {
        "en": "Pohoda Compress",
        "cs": "Komprese Pohody"
      },
      "defval": false,
      "required": true,
      "category": "API"
    },
    "POHODA_DEBUG": {
      "type": "bool",
      "description": {
        "en": "Pohoda Debug",
        "cs": "Ladƒõn√≠ Pohody"
      },
      "defval": false,
      "required": true,
      "category": "API"
    },
    "POHODA_BANK_IDS": {
      "type": "text",
      "description": {
        "en": "Pohoda Bank IDs",
        "cs": "ID banky v Pohodƒõ"
      },
      "defval": "KB",
      "required": true,
      "category": "API"
    },
    "FIXED_RATE": {
      "type": "integer",
      "description": {
        "en": "Fixed rate for converting foreign currency transactions to CZK",
        "cs": "Pevn√Ω kurz pro p≈ôevod transakc√≠ v ciz√≠ mƒõnƒõ na CZK"
      },
      "defval": "",
      "required": false,
      "category": "Other"
    },
    "FIXED_RATE_AMOUNT": {
      "type": "integer",
      "description": {
        "en": "Fixed rate amount for some currencies (e.g., üí¥)",
        "cs": "Pevn√° ƒç√°stka kurzu pro nƒõkter√© mƒõny (nap≈ô. üí¥)"
      },
      "defval": "100",
      "required": false,
      "category": "Other"
    },
    "CNB_CACHE": {
      "type": "text",
      "description": {
        "en": "Use CNB cache to get actual rate from CNB",
        "cs": "Pou≈æijte CNB cache pro z√≠sk√°n√≠ aktu√°ln√≠ho kurzu z ƒåNB"
      },
      "defval": "http://localhost/cnb-cache",
      "required": false,
      "category": "Other"
    },
    "RATE_OFFSET": {
      "type": "text",
      "description": {
        "en": "Rate offset to get rate for previous day",
        "cs": "Posun kurzu pro z√≠sk√°n√≠ kurzu p≈ôedchoz√≠ho dne"
      },
      "defval": "yesterday",
      "required": false,
      "category": "Other"
    },
    "DB_CONNECTION": {
      "type": "text",
      "description": {
        "en": "Database Connection",
        "cs": "P≈ôipojen√≠ k datab√°zi"
      },
      "defval": "sqlsrv",
      "required": true,
      "category": "Database"
    },
    "DB_HOST": {
      "type": "text",
      "description": {
        "en": "Database Host",
        "cs": "Hostitel datab√°ze"
      },
      "defval": "127.0.0.1",
      "required": true,
      "category": "Database"
    },
    "DB_PORT": {
      "type": "integer",
      "description": {
        "en": "Database Port",
        "cs": "Port datab√°ze"
      },
      "defval": 1433,
      "required": true,
      "category": "Database"
    },
    "DB_DATABASE": {
      "type": "text",
      "description": {
        "en": "Database Name",
        "cs": "N√°zev datab√°ze"
      },
      "defval": "StwPh_12345678_2023",
      "required": true,
      "category": "Database"
    },
    "DB_USERNAME": {
      "type": "text",
      "description": {
        "en": "Database Username",
        "cs": "U≈æivatelsk√© jm√©no datab√°ze"
      },
      "defval": "sa",
      "required": true,
      "category": "Database"
    },
    "DB_PASSWORD": {
      "type": "password",
      "description": {
        "en": "Database Password",
        "cs": "Heslo datab√°ze"
      },
      "defval": "pohodaSQLpassword",
      "required": true,
      "category": "Database"
    },
    "DB_SETTINGS": {
      "type": "text",
      "description": {
        "en": "Database Settings like encrypt=false",
        "cs": "Nastaven√≠ datab√°ze, nap≈ô√≠klad encrypt=false"
      },
      "defval": "",
      "required": false,
      "category": "Database"
    },
    "OFFICE365_USERNAME": {
      "type": "text",
      "description": {
        "en": "Office 365 Username",
        "cs": "U≈æivatelsk√© jm√©no Office 365"
      },
      "defval": "",
      "required": false,
      "category": "Other"
    },
    "OFFICE365_PASSWORD": {
      "type": "password",
      "description": {
        "en": "Office 365 Password",
        "cs": "Heslo Office 365"
      },
      "defval": "",
      "required": false,
      "category": "Security"
    },
    "OFFICE365_CLIENTID": {
      "type": "text",
      "description": {
        "en": "Office 365 Client ID",
        "cs": "Client ID Office 365"
      },
      "defval": "",
      "required": false,
      "category": "Other"
    },
    "OFFICE365_SECRET": {
      "type": "text",
      "description": {
        "en": "Office 365 Secret",
        "cs": "Secret Office 365"
      },
      "defval": "",
      "required": false,
      "category": "Security"
    },
    "OFFICE365_CLSECRET": {
      "type": "text",
      "description": {
        "en": "Office 365 Client Secret",
        "cs": "Client Secret Office 365"
      },
      "defval": "",
      "required": false,
      "category": "Security"
    },
    "OFFICE365_TENANT": {
      "type": "text",
      "description": {
        "en": "Office 365 Tenant",
        "cs": "Tenant Office 365"
      },
      "defval": "",
      "required": true,
      "category": "Other"
    },
    "OFFICE365_SITE": {
      "type": "text",
      "description": {
        "en": "Office 365 Site",
        "cs": "Site Office 365"
      },
      "defval": "",
      "required": true,
      "category": "Other"
    },
    "OFFICE365_PATH": {
      "type": "text",
      "description": {
        "en": "Office 365 Path",
        "cs": "Cesta Office 365"
      },
      "defval": "",
      "required": true,
      "category": "Other"
    },
    "STATEMENT_SAVE_DIR": {
      "type": "text",
      "description": {
        "en": "Place for PDF files",
        "cs": "M√≠sto pro PDF soubory"
      },
      "defval": "",
      "required": false,
      "category": "Other"
    },
    "APP_DEBUG": {
      "type": "bool",
      "description": {
        "en": "Show debug messages",
        "cs": "Zobrazit ladic√≠ zpr√°vy"
      },
      "defval": "False",
      "required": true,
      "category": "Behavior"
    },
    "RESULT_FILE": {
      "type": "string",
      "description": {
        "en": "write output json data to",
        "cs": "Z√°pis v√Ωstupn√≠ch dat do JSON"
      },
      "defval": "bank_import_report_{ACCOUNT_NUMBER}.json",
      "required": false,
      "category": "Other"
    },
    "ZABBIX_KEY": {
      "type": "string",
      "description": {
        "en": "Default name for Zabbix Item key name",
        "cs": "V√Ωchoz√≠ n√°zev kl√≠ƒçe polo≈æky Zabbix"
      },
      "defval": "Raiff-Import-{ACCOUNT_NUMBER}",
      "required": false,
      "category": "Other"
    },
    "RBAPI_RATE_LIMIT_JSON_FILE": {
      "type": "string",
      "description": {
        "en": "write API rate limit file using",
        "cs": "Z√°pis souboru s limity p≈ô√≠stup≈Ø API"
      },
      "defval": "{MULTIFLEXI_TMP}/rbczpremiumapi_rates.json",
      "required": false,
      "category": "API"
    },
    "EASE_LOGGER": {
      "type": "string",
      "description": {
        "en": "write log messages using",
        "cs": "Zp≈Øsob z√°pisu logovac√≠ch zpr√°v"
      },
      "defval": "console|syslog",
      "required": false,
      "category": "Behavior"
    }
  },
  "artifacts": [
    {
      "name": {
        "cs": "Report importu",
        "en": "Import report"
      },
      "type": "file",
      "path": "bank_import_report_{\\d+}.json$",
      "description": {
        "en": "Stauses of Statement: download from bank, import to Pohoda, upload to Shatepoint,  Attachment link in Pohoda",
        "cs": "Stavy v√Ωpisu: sta≈æen√≠ z banky, import do pohody, nahr√°t√≠ do sharepointu, p≈ô√≠loha linku do Pohody"
      }
    }
  ],
  "exitCodes": {
    "0": {
      "description": {
        "en": "Success",
        "cs": "√öspƒõ≈°n√© dokonƒçen√≠"
      },
      "severity": "success",
      "retry": false
    },
    "1": {
      "description": {
        "en": "General error",
        "cs": "Obecn√° chyba"
      },
      "severity": "error",
      "retry": true
    },
    "2": {
      "description": {
        "en": "Misuse of shell command",
        "cs": "Nespr√°vn√© pou≈æit√≠ p≈ô√≠kazu"
      },
      "severity": "error",
      "retry": false
    },
    "3": {
      "description": {
        "en": "Application-specific error code 3",
        "cs": "Aplikaƒçn√≠ chybov√Ω k√≥d 3"
      },
      "severity": "error",
      "retry": true
    },
    "4": {
      "description": {
        "en": "Application-specific error code 4",
        "cs": "Aplikaƒçn√≠ chybov√Ω k√≥d 4"
      },
      "severity": "error",
      "retry": true
    },
    "401": {
      "description": {
        "en": "Unauthorized - authentication failed",
        "cs": "Neautorizov√°no - ovƒõ≈ôen√≠ selhalo"
      },
      "severity": "error",
      "retry": false
    }
  }
}
