{
  "$schema": "https://raw.githubusercontent.com/VitexSoftware/php-vitexsoftware-multiflexi-core/refs/heads/main/multiflexi.app.schema.json",
  "schemaVersion": "3.1.0",
  "uuid": "3f5dc042-afa3-40b8-9bf0-ed836dae9980",
  "name": {
    "en": "Raiffeisenbank statements Sharepoint upload",
    "cs": "Nahrání výpisů Raiffeisenbank do Sharepointu"
  },
  "description": {
    "en": "Upload Raiffeisenbank statements to Sharepoint",
    "cs": "Nahrajte výpisy Raiffeisenbank do Sharepointu"
  },
  "tags": ["Raiffeisen", "Bank", "Statements", "Check"],
  "requirements": ["RaiffeisenBank", "Office365"],
  "homepage": "https://github.com/Spoje-NET/pohoda-raiffeisenbank",
  "executable": "raiffeisenbank-statements-sharepoint-uploader",
  "environment": {
    "ACCOUNT_NUMBER": {
      "type": "text",
      "description": {
        "en": "Bank Account Number",
        "cs": "Číslo bankovního účtu"
      },
      "defval": "",
      "required": true,
      "category": "Other"
    },
    "CERT_PASS": {
      "type": "password",
      "description": {
        "en": "Certificate password",
        "cs": "Heslo certifikátu"
      },
      "defval": "",
      "required": true,
      "category": "Other"
    },
    "CERT_FILE": {
      "type": "string",
      "description": {
        "en": "Path to RB Certificate file",
        "cs": "Cesta k souboru certifikátu RB"
      },
      "defval": "",
      "required": true,
      "category": "Other"
    },
    "IMPORT_SCOPE": {
      "type": "text",
      "description": {
        "en": "Time scope of transactions downloaded",
        "cs": "Časový rozsah stahovaných transakcí"
      },
      "defval": "auto",
      "required": true,
      "category": "Other"
    },
    "STATEMENT_LINE": {
      "type": "set",
      "description": {
        "en": "Bank Statement line",
        "cs": "Řádek bankovního výpisu"
      },
      "defval": "ADDITIONAL",
      "hint": {
        "en": "MAIN",
        "cs": "MAIN"
      },
      "options": {
        "MAIN": "Main statement line",
        "ADDITIONAL": "Additional statement line"
      },
      "category": "Other"
    },
    "ACCOUNT_CURRENCY": {
      "type": "text",
      "description": {
        "en": "for multicurrency accounts please specify one",
        "cs": "U víceměnových účtů prosím zadejte měnu"
      },
      "defval": "CZK",
      "required": false,
      "category": "Other"
    },
    "XIBMCLIENTID": {
      "type": "text",
      "description": {
        "en": "ClientID",
        "cs": "ClientID"
      },
      "defval": "",
      "required": true,
      "category": "Other"
    },
    "OFFICE365_USERNAME": {
      "type": "text",
      "description": {
        "en": "Office 365 Username",
        "cs": "Uživatelské jméno Office 365"
      },
      "defval": "",
      "required": false,
      "category": "Other"
    },
    "OFFICE365_PASSWORD": {
      "type": "password",
      "description": {
        "en": "Office 365 Password",
        "cs": "Heslo Office 365"
      },
      "defval": "",
      "required": false,
      "category": "Security"
    },
    "OFFICE365_CLIENTID": {
      "type": "text",
      "description": {
        "en": "Office 365 Client ID",
        "cs": "Client ID Office 365"
      },
      "defval": "",
      "required": false,
      "category": "Other"
    },
    "OFFICE365_SECRET": {
      "type": "text",
      "description": {
        "en": "Office 365 Secret",
        "cs": "Secret Office 365"
      },
      "defval": "",
      "required": false,
      "category": "Security"
    },
    "OFFICE365_CLSECRET": {
      "type": "text",
      "description": {
        "en": "Office 365 Client Secret",
        "cs": "Client Secret Office 365"
      },
      "defval": "",
      "required": false,
      "category": "Security"
    },
    "OFFICE365_TENANT": {
      "type": "text",
      "description": {
        "en": "Office 365 Tenant",
        "cs": "Tenant Office 365"
      },
      "defval": "",
      "required": true,
      "category": "Other"
    },
    "OFFICE365_SITE": {
      "type": "text",
      "description": {
        "en": "Office 365 Site",
        "cs": "Site Office 365"
      },
      "defval": "",
      "required": true,
      "category": "Other"
    },
    "OFFICE365_PATH": {
      "type": "text",
      "description": {
        "en": "Office 365 Path",
        "cs": "Cesta Office 365"
      },
      "defval": "",
      "required": true,
      "category": "Other"
    },
    "STATEMENT_SAVE_DIR": {
      "type": "text",
      "description": {
        "en": "Place for PDF files",
        "cs": "Místo pro PDF soubory"
      },
      "defval": "",
      "required": false,
      "category": "Other"
    },
    "RESULT_FILE": {
      "type": "string",
      "description": {
        "en": "write output json data to",
        "cs": "Zápis výstupních dat do JSON"
      },
      "defval": "bank_statement_upoad_{ACCOUNT_NUMBER}.json",
      "required": false,
      "category": "Other"
    },
    "APP_DEBUG": {
      "type": "bool",
      "description": {
        "en": "Show debug messages",
        "cs": "Zobrazit ladicí zprávy"
      },
      "defval": "False",
      "required": true,
      "category": "Behavior"
    },
    "ZABBIX_KEY": {
      "type": "string",
      "description": {
        "en": "Default name for Zabbix Item key name",
        "cs": "Výchozí název klíče položky Zabbix"
      },
      "defval": "Raiff-Statement-{ACCOUNT_NUMBER}-toSharepoint",
      "required": false,
      "category": "Other"
    },
    "RBAPI_RATE_LIMIT_JSON_FILE": {
      "type": "string",
      "description": {
        "en": "write API rate limit file using",
        "cs": "Zápis souboru s limity přístupů API"
      },
      "defval": "{MULTIFLEXI_TMP}/rbczpremiumapi_rates.json",
      "required": false,
      "category": "API"
    },
    "EASE_LOGGER": {
      "type": "string",
      "description": {
        "en": "write log messages using",
        "cs": "Způsob zápisu logovacích zpráv"
      },
      "defval": "console|syslog",
      "required": false,
      "category": "Behavior"
    }
  },
  "artifacts": [
    {
      "name": {
        "cs": "Zpráva o importu a uložení",
        "en": "Download and store report"
      },
      "type": "file",
      "path": "bank_statement_upload_{\\d+}.json$",
      "description": {
        "en": "Stauses of Statement: download from bank, upload to Shatepoint",
        "cs": "Stavy výpisu: stažení z banky, nahrání do Sharepointu"
      }
    }
  ],
  "exitCodes": {
    "0": {
      "description": {
        "en": "Success",
        "cs": "Úspěšné dokončení"
      },
      "severity": "success",
      "retry": false
    },
    "1": {
      "description": {
        "en": "General error",
        "cs": "Obecná chyba"
      },
      "severity": "error",
      "retry": true
    }
  }
}
